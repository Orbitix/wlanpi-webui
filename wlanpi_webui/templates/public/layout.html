<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}</title>
    <meta name="author" content="josh@joshschmelzle.com">
    <meta name="description" content="Tools for Wireless LAN Professionals">
    <meta name="keywords" content="wifi, wlan, wlanpi, wlan pi">
    <meta name="theme-color" content="#fff">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/uikit.css') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/apple-icon-touch.png') }}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{{ url_for('static', filename='img/android-chrome-192x192.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon-16x16.png') }}">

    <link rel="manifest" href="{{ url_for('static', filename='img/site.webmanifest') }}">
  </head>
  <body>
    <!--HANDLE MOBILE-->
    <style>
      #thebiglebowski {
        min-height: 100vh; 
        min-width: 20em;
      }
      @media (max-width: 640px) {
        #thebiglebowski {
          min-height: 139vh;
          }
      }
    </style>
    <!--/HANDLE MOBILE-->


    <script>
      function loadXMLDoc()
      {
          var ip_text = document.getElementById("ip_addr");
          var cpu_text = document.getElementById("cpu");
          var cputemp_text = document.getElementById("cputemp");
          var ram_text = document.getElementById("ram");
          var storage_text = document.getElementById("storage");
          var uptime_text = document.getElementById("uptime");
          
          if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari, SeaMonkey
              xmlhttp=new XMLHttpRequest();
          }
          else
          {// code for IE6, IE5
              xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          }
          xmlhttp.onreadystatechange=function()
          {
              if (xmlhttp.readyState==4 && xmlhttp.status==200)
              {
                  data = JSON.parse(xmlhttp.responseText)
                  ip_text.innerHTML = data["IP"]
                  cpu_text.innerHTML = data["CPU"]
                  cputemp_text.innerHTML = data["CPU_TEMP"]
                  ram_text.innerHTML = data["RAM"]
                  storage_text.innerHTML = data["DISK"]
                  uptime_text.innerHTML = data["UPTIME"]
  
              }
          }
          xmlhttp.open("GET", "{{ url_for('stream.stream') }}", false);
          xmlhttp.send();
  
      }
      setInterval(loadXMLDoc, 2000);
    </script>

    <div id="thebiglebowski" class="uk-flex uk-flex-column">
      <!--HEADER-->
      <div class="uk-box-shadow-small uk-flex-first uk-background-muted" style="margin: 0px !important;">
          <nav class="uk-navbar-container" id="navbar" data-uk-navbar style="background-color: #222222 !important;">
            <div class="uk-navbar-left">
              <a class="uk-navbar-item uk-logo" href="{{ url_for('homepage.homepage') }}"><img src="{{ url_for('static', filename='img/wlanpi-sticker.png') }}" alt="WLAN Pi logo" style="width:96px;"></a>
              <ul class="uk-navbar-nav uk-visible@m">
                <li>
                  <a href="{{ url_for('librespeed.librespeed') }}" style="color: white;">SPEED TEST</a>
                  <div class="uk-navbar-dropdown">
                    <ul class="uk-nav uk-navbar-dropdown-nav uk-navbar-dropdown-width-2">
                      <li><a href="{{ url_for('librespeed.librespeed') }}">LIBRESPEED</a></li>
                      <li><a href="{{ url_for('librespeed.librespeed2') }}">LIBRESPEED (DETAILS)</a></li>
                    </ul>
                  </div>
                </li>
                <li>
                  <a href="{{ url_for('profiler.profiler') }}" style="color: white;">PROFILER</a>
                  <div class="uk-navbar-dropdown">
                    <ul class="uk-nav uk-navbar-dropdown-nav">
                      <li><a href="{{ url_for('profiler.profiler') }}">PROFILES</a></li>
                      <li><a href="{{ url_for('profiler.purge') }}">PURGE DATA</a></li>
                    </ul>
                  </div>
                </li>        <!-- </div> -->
                <li><a href="{{ url_for('network.network') }}" style="color: white;">NETWORK</a></li>
                <li>
                  <a href="#" style="color: white;">KISMET</a>
                  <div class="uk-navbar-dropdown">
                      <ul class="uk-nav uk-navbar-dropdown-nav">
                          <li class="uk-nav-header">{{ kismet_message }}</li>
                          <li><a href="{{ url_for('start_stop_kismet', task='stop' if kismet_status else 'start') }}">{{ 'Stop' if kismet_status else 'Start' }}</a></li>
                          <li><a class="uk-link" style="visibility: {{ 'visible' if kismet_status else 'hidden' }}; display: {{ 'block' if kismet_status else 'none' }};" href="{{ url_for('kismet.kismet') }}">Open Kismet</a></li>
                      </ul>
                  </div>
                </li>
                <li><a href="{{ url_for('cockpit.cockpit') }}" style="color: white;">ADMIN</a></li>
                <li><a href="{{ url_for('terminal') }}" style="color: white;">TERMINAL</a></li>
              </ul>
            </div>
              <div class="uk-navbar-right"> 
              <div class="uk-navbar-item">
                <a class="uk-navbar-toggle uk-hidden@m" data-uk-toggle data-uk-navbar-toggle-icon href="#offcanvas-nav"></a>               
              </div>
            </div>
          </nav>
      </div>
      <!--/HEADER-->

      <!-- STATS BAR -->
      <div style="background-color: #fc7313; display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-evenly; align-items: center; font-size: smaller;">
        {% autoescape false %}
        <div style="display: inline-flex; padding: 2px 0px 2px 0px; ">
          <div style="color: #2e2e2e; white-space: pre-wrap; padding: 4px;"><img src="{{ url_for('static', filename='icon/globe.svg') }}"></div>
          <div id="ip_addr" style="color: #2e2e2e; padding: 4px;">---</div>
        </div>

        <div style="display: inline-flex; padding: 2px 0px 2px 0px; align-items: center;">
          <div  style="color: #2e2e2e;"><img src="{{ url_for('static', filename='icon/cpu.svg') }}"></div>
          <div style="padding-left: 8px;">
            <div id="cpu" style="color: #2e2e2e;">---</div>
            <div id="cputemp" style="color: #2e2e2e;">---</div>
          </div>
        </div>

        <div style="display: inline-flex; padding: 2px 0px 2px 0px;">
          <div style="color: #2e2e2e; white-space: pre-wrap; "><img src="{{ url_for('static', filename='icon/ram.svg') }}"></div>
          <div id="ram"  style="color: #2e2e2e; padding-left: 8px;">---</div>
        </div>

        <div style="display: inline-flex; padding: 2px 0px 2px 0px;">
          <div style="color: #2e2e2e; white-space: pre-wrap;"><img src="{{ url_for('static', filename='icon/storage.svg') }}"></div>
          <div id="storage"  style="color: #2e2e2e; padding-left: 8px;">---</div>
        </div>

        <div style="display: inline-flex; padding: 2px 0px 2px 0px;">
          <div  style="color: #2e2e2e; white-space: pre-wrap;">Uptime: </div>
          <div id="uptime"  style="color: #2e2e2e;">---</div>
        </div>
        {% endautoescape %}

      </div>
      
      <!-- /STATS BAR -->

      <!-- COCKPIT -->
      <!-- <iframe src="{{ cockpit_iframe }}"></iframe> -->
      <!-- /COCKPIT -->

      <!--CONTENT-->
      <!--<div class="uk-flex uk-flex-1 uk-flex-center uk-dark uk-background-muted">-->
          {% block content %}
          {% endblock %}
      <!--</div>-->
      <!--/CONTENT-->

      <!--FOOTER-->
      <div class="uk-section-secondary">
        <div class="uk-section uk-section-xsmall">
          <div class="uk-container">
            <div class="uk-grid uk-child-width-1-2@s uk-text-center uk-text-left@s" data-uk-grid>
              <div class="uk-text-small">
                <ul class="uk-list uk-list-collapse">
                  <li><a href="https://wlanpi.com" target="_blank" title="Visit WLAN Pi project page" data-uk-tooltip><span uk-icon="icon: home; ratio: 2"></a>&nbsp;&nbsp;&nbsp;<a href="https://github.com/WLAN-Pi" target="_blank" title="Visit GitHub for source code" data-uk-tooltip><span uk-icon="icon: github; ratio: 2"></span></a>&nbsp;&nbsp;&nbsp;<a href="https://twitter.com/wlanpi" target="_blank" title="Visit Twitter to get social with WLAN Pi" data-uk-tooltip><span uk-icon="icon: twitter; ratio: 2"></span></a></li>
                  <br /><li><a href="https://ko-fi.com/wlanpi" target="_blank" title="Support us by donating on Ko-fi" data-uk-tooltip><span uk-icon="icon: heart; ratio: 2"></span></a>&nbsp;&nbsp;&nbsp;<a href="https://github.com/WLAN-Pi/feedback" target="_blank" title="Visit WLAN Pi feedback to leave us a note" data-uk-tooltip><span uk-icon="icon: comment; ratio: 2"></span></a>&nbsp;&nbsp;&nbsp;<a href="https://docs.wlanpi.com" target="_blank" title="Visit WLAN Pi documentation" data-uk-tooltip><span uk-icon="icon: info; ratio: 2"></a></li>
                </ul>
              </div>
              <div class="uk-text-small uk-text-center uk-text-right@s">
                <ul class="uk-list uk-list-collapse">
                  {%- if hostname -%}
                  <li>Hostname: {{ hostname }}</li>
                  {%- endif -%}
                  {%- if wlanpi_version -%}
                  <li>System version: {{ wlanpi_version }}</li>
                  {%- endif -%}
                  {%- if webui_version -%}
                  <li>WebUI version: {{ webui_version }}</li>
                  {%- endif -%}
                  <li>Built with UIkit <a href="http://getuikit.com" title="Visit UIkit" target="_blank" data-uk-tooltip><span data-uk-icon="uikit"></span></a> and <a href="https://flask.palletsprojects.com/" target="_blank" title="Flask; web development, one drop at a time" data-uk-tooltop>Flask</a></li>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--/FOOTER-->
    </div>
    <!--OFFCANVAS-->
    <div id="offcanvas-nav" data-uk-offcanvas="flip: true; overlay: true">
      <div class="uk-offcanvas-bar uk-offcanvas-bar-animation uk-offcanvas-slide">
        <button class="uk-offcanvas-close uk-close uk-icon" type="button" data-uk-close></button>
        <ul class="uk-nav uk-nav-default">
          <li><a href="{{ url_for('librespeed.librespeed') }}">LIBRESPEED</a></li>
          <li><a href="{{ url_for('librespeed.librespeed2') }}">LIBRESPEED (DETAILS)</a></li>
          <li><a href="{{ url_for('profiler.profiler') }}">PROFILER: PROFILES</a></li>
          <li><a href="{{ url_for('profiler.purge') }}">PROFILER: PURGE DATA</a></li>
          <li><a href="{{ url_for('network.network') }}">NETWORK</a></li>
          <li><a href="{{ url_for('kismet.kismet') }}">KISMET</a></li>             
          <li><a href="{{ url_for('cockpit.cockpit') }}">ADMINISTRATION</a></li>       
          <li><a href="{{ url_for('terminal') }}">TERMINAL</a></li> 
        </ul>
      </div>
    </div>
    <!--/OFFCANVAS-->
    <!--JS FILES-->
    <script src="{{ url_for('static', filename='js/uikit.min.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/uikit-icons.min.js') }}" defer></script>
    <!--/JS FILES-->
  </body>
</html>
